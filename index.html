<html>

<head>
	<title> select role </title>
</head>

<body>

	<button onclick="javasctipt:choose('host')"> Host </button>
	<button onclick="javasctipt:choose('player')"> Player </button>

</body>


<script> 
	function choose(role) {
		console.log(role);
		if (role == 'host') {
			barcarat.CreateRoom({ from: web3.eth.account[0] , value : web3.toWei("0.1", "ether")}
				, function (error, result) {
					if (!error)
						console.log(result)
					else
						console.error(error);
				});

		}
	}


	if (typeof web3 !== 'undefined') {

		web3 = new Web3(web3.currentProvider);
		console.log("existing web3: provider " + web3);

	}

	else {
		web3 = new Web3(new Web3.providers.HttpProvider("https://kovan.infura.io/v3/59f5672ecbe541b1b0c55a5c486be56c"));
		console.log("new provider " + typeof web3);
	}


	web3.eth.defaultAccount = web3.eth.accounts[0];

	if (web3.isConnected()) {

		var barcaratContract = web3.eth.contract([{ "constant": false, "inputs": [{ "name": "roomID", "type": "uint256" }], "name": "FineToClose", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [], "name": "ExitRoom", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [], "name": "SetReady", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "roomID", "type": "uint256" }, { "name": "idxPerson", "type": "uint256" }], "name": "GetCards", "outputs": [{ "name": "", "type": "uint256[]" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "roomID", "type": "uint256" }], "name": "endRound", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [], "name": "CreateRoom", "outputs": [{ "name": "", "type": "uint256" }], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": true, "inputs": [{ "name": "roomID", "type": "uint256" }], "name": "GetRoomByRoomNo", "outputs": [{ "name": "", "type": "address[]" }, { "name": "", "type": "bool[]" }, { "name": "", "type": "uint256" }, { "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [], "name": "JoinRoom", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }]);
		var barcaretAddr = "0x344F9D38E6f80AB6929dD41F2ca89e4d686bdfd3";

		var barcarat = barcaratContract.at(barcaretAddr);


	}



	else {
		console.log('not connect');

	}


</script>

</html>